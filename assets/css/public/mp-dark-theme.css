/**
 * Mercado Pago Dark Theme Styles
 * 
 * This file provides dark theme support for the Mercado Pago WooCommerce plugin.
 * It overrides the default light theme styles to work with dark background websites.
 */

/* ===== CSS Variables for Dark Theme ===== */
:root {
    --mp-dark-bg-primary: #1a1a1a;
    --mp-dark-bg-secondary: #00000000;
    --mp-dark-bg-tertiary: #3a3a3a;
    --mp-dark-text-primary: #ffffff;
    --mp-dark-text-secondary: rgba(255, 255, 255, 0.75);
    --mp-dark-text-muted: rgba(255, 255, 255, 0.55);
    --mp-dark-border-color: rgba(255, 255, 255, 0.2);
    --mp-dark-border-light: rgba(255, 255, 255, 0.1);
    --mp-dark-accent-color: #3483FA;
    --mp-dark-accent-hover: #5a9bfc;
    --mp-dark-success-color: #00a650;
    --mp-dark-warning-color: #f73;
    --mp-dark-error-color: #F23D4F;
    --mp-dark-input-bg: #00000000;
    --mp-dark-card-shadow: 0 6px 16px 0 rgba(0, 0, 0, 0.4);
}

/* ===== Common/Reset Styles ===== */
.mp-checkout-container,
.mp-checkout-container div,
.mp-checkout-container span,
.mp-checkout-container p,
.mp-checkout-container a,
.mp-checkout-container label,
.mp-checkout-container input,
.mp-checkout-container select,
.mp-checkout-container button,
.mp-checkout-container h1,
.mp-checkout-container h2,
.mp-checkout-container h3,
.mp-checkout-container h4,
.mp-checkout-container h5,
.mp-checkout-container h6,
.mp-checkout-container li,
.mp-checkout-container ul,
.mp-checkout-container ol {
    color: var(--mp-dark-text-primary) !important;
}

.mp-document-select,
.mp-input-document {
    background: var(--mp-dark-input-bg) !important;
    color: var(--mp-dark-text-primary) !important;
    border-color: var(--mp-dark-border-color) !important;
}

.mp-vertical-line {
    border-left-color: var(--mp-dark-border-color) !important;
}

/* ===== Input Fields ===== */
.mp-checkout-andes-input,
.mp-checkout-andes-input-error {
    background: var(--mp-dark-input-bg) !important;
    color: var(--mp-dark-text-primary) !important;
    border-color: var(--mp-dark-border-color) !important;
}

.mp-checkout-andes-input:focus {
    border-color: var(--mp-dark-accent-color) !important;
}

.mp-checkout-andes-input::placeholder {
    color: var(--mp-dark-text-muted) !important;
}

/* ===== PIX Checkout Container ===== */
.mp-checkout-pix-container,
div.mp-checkout-pix-container,
.woocommerce .mp-checkout-pix-container,
.woocommerce-checkout .mp-checkout-pix-container {
    background-color: var(--mp-dark-bg-secondary) !important;
    border-radius: 8px !important;
}

/* ===== PIX Template ===== */
.mp-pix-template-container,
div.mp-pix-template-container,
.woocommerce .mp-pix-template-container,
.mp-checkout-container .mp-pix-template-container {
    background-color: var(--mp-dark-bg-secondary) !important;
    border-radius: 8px !important;
    align-items: center !important;
    display: flex !important;
    flex-direction: column !important;
    justify-content: center !important;
    text-align: center !important;
}

.mp-pix-template-title,
.mp-pix-template-subtitle,
.mp-pix-template-container .mp-pix-template-title,
.mp-pix-template-container .mp-pix-template-subtitle {
    color: var(--mp-dark-text-primary) !important;
}

/* ===== PIX Order Received / Thank You Page ===== */
.mp-details-pix,
div.mp-details-pix,
.woocommerce .mp-details-pix,
.woocommerce-order-received .mp-details-pix {
    background-color: var(--mp-dark-bg-secondary) !important;
    box-shadow: var(--mp-dark-card-shadow) !important;
}

.mp-details-title,
p.mp-details-title {
    color: var(--mp-dark-text-primary) !important;
}

.mp-details-pix-title,
.mp-details-list-description,
.mp-details-pix-description,
.mp-details-pix-qr-title,
.mp-details-pix-qr-description,
.mp-details-pix-amount,
p.mp-details-pix-title,
p.mp-details-list-description,
p.mp-details-pix-description,
p.mp-details-pix-qr-title,
p.mp-details-pix-qr-description,
p.mp-details-pix-amount {
    color: var(--mp-dark-text-primary) !important;
}

.mp-details-pix-qr-subtitle,
p.mp-details-pix-qr-subtitle {
    color: var(--mp-dark-text-muted) !important;
}

.mp-details-pix-number-p,
p.mp-details-pix-number-p {
    border-color: var(--mp-dark-accent-color) !important;
    color: var(--mp-dark-accent-color) !important;
    background: transparent !important;
}

.mp-pix-right,
div.mp-pix-right {
    border-left-color: var(--mp-dark-border-color) !important;
}

/* ===== PIX Thank You Page - Additional Selectors ===== */
.mp-row-checkout-pix,
.mp-row-checkout-pix-container,
div.mp-row-checkout-pix,
div.mp-row-checkout-pix-container {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-text-center,
div.mp-text-center {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-steps-congrats,
ul.mp-steps-congrats {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-col-md-4,
div.mp-col-md-4 {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-col-md-8,
div.mp-col-md-8 {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-pix-left,
ul.mp-pix-left {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-details-pix-container,
div.mp-details-pix-container {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-details-list,
li.mp-details-list {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-qr-input,
input.mp-qr-input {
    background-color: var(--mp-dark-input-bg) !important;
    color: var(--mp-dark-text-primary) !important;
    border-color: var(--mp-dark-border-color) !important;
}

.mp-details-pix-button,
button.mp-details-pix-button {
    background-color: var(--mp-dark-accent-color) !important;
    color: #ffffff !important;
    border: none !important;
}

.mp-details-pix-button:hover,
button.mp-details-pix-button:hover {
    background-color: var(--mp-dark-accent-hover) !important;
}

/* Make QR code visible on dark background */
.mp-details-pix-qr-img,
img.mp-details-pix-qr-img {
    background-color: #ffffff !important;
    padding: 10px !important;
    border-radius: 8px !important;
}

/* ===== PIX Approved Page ===== */
.mp-pix-approved-container,
.mp-pix-image-container,
div.mp-pix-approved-container,
div.mp-pix-image-container {
    background-color: var(--mp-dark-bg-secondary) !important;
}

/* ===== PIX Image Display ===== */
.mp-details-pix-img,
img.mp-details-pix-img {
    /* Keep the image visible */
}

/* ===== Credits Checkout ===== */
.mp-checkout-credits-container,
.mp-checkout-credits-content,
div.mp-checkout-credits-container,
div.mp-checkout-credits-content {
    background-color: var(--mp-dark-bg-secondary) !important;
    border-radius: 8px !important;
}

.mp-checkout-benefits-list-title,
.mp-checkout-benefits-title {
    color: var(--mp-dark-text-primary) !important;
}

.mp-checkout-benefits-list-item span,
.mp-checkout-benefits-item span,
.mp-checkout-benefits-item b {
    color: var(--mp-dark-text-secondary) !important;
}

.mp-checkout-benefits-item-title {
    color: var(--mp-dark-text-primary) !important;
}

.mp-checkout-benefits-item-subtitle {
    color: var(--mp-dark-text-muted) !important;
}

.mp-credits-checkout-benefits,
div.mp-credits-checkout-benefits {
    background-color: var(--mp-dark-bg-secondary) !important;
}

/* ===== Checkout Redirect V3 ===== */
.mp-checkout-redirect-v3-container,
div.mp-checkout-redirect-v3-container {
    background-color: var(--mp-dark-bg-tertiary) !important;
}

.mp-checkout-redirect-v3-container p,
.mp-checkout-redirect-v3-title,
.mp-checkout-redirect-v3-description {
    color: var(--mp-dark-text-secondary) !important;
}

/* ===== Custom Checkout (Credit Card) ===== */
.mp-checkout-custom-container,
div.mp-checkout-custom-container {
    background-color: var(--mp-dark-bg-secondary) !important;
    border-radius: 8px !important;
}

.mp-checkout-custom-info-text {
    color: var(--mp-dark-text-muted) !important;
}

.mp-checkout-custom-card-form .mp-checkout-custom-card-input,
.mp-checkout-custom-security-code-input {
    background: var(--mp-dark-input-bg) !important;
    color: var(--mp-dark-text-primary) !important;
    border-color: var(--mp-dark-border-color) !important;
}

.mp-checkout-custom-card-input-iframe {
    border-color: var(--mp-dark-border-color) !important;
}

.mp-checkout-custom-card-form,
.mp-checkout-custom-card-row,
.mp-checkout-custom-card-column {
    background-color: transparent !important;
}

/* Wallet Button */
.mp-wallet-button-container,
div.mp-wallet-button-container {
    border-color: var(--mp-dark-border-color) !important;
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-wallet-button-container .mp-wallet-button-title span {
    color: var(--mp-dark-text-primary) !important;
}

.mp-wallet-button-container-wrapper,
div.mp-wallet-button-container-wrapper {
    background-color: transparent !important;
}

/* Security Code Tooltip */
.mp-checkout-custom-security-code-tooltip {
    background: var(--mp-dark-bg-tertiary) !important;
    border-color: var(--mp-dark-accent-color) !important;
    color: var(--mp-dark-accent-color) !important;
}

.mp-checkout-custom-security-code-tooltip:hover::after {
    background: var(--mp-dark-bg-tertiary) !important;
    color: var(--mp-dark-text-primary) !important;
    border-color: var(--mp-dark-border-color) !important;
}

.mp-checkout-custom-security-code-tooltip:hover::before {
    border-top-color: var(--mp-dark-bg-tertiary) !important;
}

/* ===== 3DS Modal ===== */
#mp-3ds-modal-content {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-loading-text-3ds,
#mp-modal-3ds-title,
.mp-text-subtitle,
.mp-normal-text-3ds {
    color: var(--mp-dark-text-primary) !important;
}

.mp-card-body-3ds {
    background: var(--mp-dark-bg-tertiary) !important;
}

/* ===== Test Mode Card ===== */
.mp-test-mode-card,
div.mp-test-mode-card {
    background: var(--mp-dark-bg-tertiary) !important;
}

.mp-test-mode-title {
    color: var(--mp-dark-text-primary) !important;
}

.mp-test-mode-description {
    color: var(--mp-dark-text-secondary) !important;
}

.mp-test-mode-container,
div.mp-test-mode-container {
    background-color: transparent !important;
}

/* ===== Terms and Conditions ===== */
.mp-terms-and-conditions-text,
span.mp-terms-and-conditions-text,
.mp-checkout-container .mp-terms-and-conditions-text {
    color: var(--mp-dark-text-muted) !important;
}

.mp-terms-and-conditions-link,
a.mp-terms-and-conditions-link,
.mp-checkout-container .mp-terms-and-conditions-link {
    color: var(--mp-dark-accent-color) !important;
}

.mp-terms-and-conditions-link:hover,
a.mp-terms-and-conditions-link:hover {
    color: var(--mp-dark-accent-hover) !important;
}

.mp-checkout-pix-terms-and-conditions,
.mp-checkout-credits-terms-and-conditions,
div.mp-checkout-pix-terms-and-conditions,
div.mp-checkout-credits-terms-and-conditions {
    background-color: transparent !important;
}

/* ===== Privacy Policy ===== */
.mp-privacy-policy-footer {
    color: var(--mp-dark-text-primary) !important;
}

.mp-privacy-policy-footer a {
    color: var(--mp-dark-accent-color) !important;
}

/* ===== Checkout Benefits ===== */
.mp-checkout-benefits-item,
li.mp-checkout-benefits-item {
    color: var(--mp-dark-text-secondary) !important;
}

.mp-checkout-benefits-count-list-div {
    background: rgba(52, 131, 250, 0.2) !important;
}

.mp-checkout-benefits-tick-mark::before,
.mp-checkout-benefits-tick-mark::after {
    background-color: var(--mp-dark-accent-color) !important;
}

.mp-checkout-benefits-container,
.mp-checkout-benefits-container-list,
div.mp-checkout-benefits-container,
ul.mp-checkout-benefits-container-list {
    background-color: transparent !important;
}

/* ===== Alert Messages ===== */
.alert-message {
    color: var(--mp-dark-error-color) !important;
}

/* ===== Card Info Component ===== */
.mp-card-info {
    background: var(--mp-dark-bg-tertiary) !important;
}

/* ===== Input Labels ===== */
.mp-input-label,
.mp-checkout-container label,
label.mp-input-label {
    color: var(--mp-dark-text-primary) !important;
}

/* ===== Input Helpers ===== */
.mp-input-helper {
    color: var(--mp-dark-text-muted) !important;
}

.mp-input-helper-error {
    color: var(--mp-dark-error-color) !important;
}

/* ===== Dropdown/Select Styles ===== */
.mp-andes-dropdown,
.mp-input-select,
select.mp-andes-dropdown,
select.mp-input-select {
    background: var(--mp-dark-input-bg) !important;
    color: var(--mp-dark-text-primary) !important;
    border-color: var(--mp-dark-border-color) !important;
}

.mp-andes-dropdown option,
.mp-input-select option {
    background: var(--mp-dark-bg-secondary) !important;
    color: var(--mp-dark-text-primary) !important;
}

/* ===== Payment Method Logos ===== */
.mp-payment-method-logo-slider,
.mp-payment-methods-container {
    background: var(--mp-dark-bg-secondary) !important;
}

/* ===== Radio Buttons ===== */
.mp-input-radio-container label {
    color: var(--mp-dark-text-primary) !important;
}

/* ===== Ticket Checkout ===== */
.mp-checkout-ticket-container,
div.mp-checkout-ticket-container {
    background-color: var(--mp-dark-bg-secondary) !important;
}

/* ===== PSE Checkout ===== */
.mp-checkout-pse-container,
div.mp-checkout-pse-container {
    background-color: var(--mp-dark-bg-secondary) !important;
}

/* ===== Yape Checkout ===== */
.mp-checkout-yape-container,
div.mp-checkout-yape-container {
    background-color: var(--mp-dark-bg-secondary) !important;
}

/* ===== Basic (Pro) Checkout ===== */
.mp-checkout-basic-container,
div.mp-checkout-basic-container {
    background-color: var(--mp-dark-bg-secondary) !important;
}

/* ===== Checkout Redirect ===== */
.mp-checkout-redirect-container,
.mp-checkout-redirect-v2-container,
div.mp-checkout-redirect-container,
div.mp-checkout-redirect-v2-container {
    background-color: var(--mp-dark-bg-tertiary) !important;
}

.mp-checkout-redirect-container p,
.mp-checkout-redirect-v2-container p {
    color: var(--mp-dark-text-secondary) !important;
}

/* ===== Alert Details ===== */
.mp-alert-details-container {
    background: var(--mp-dark-bg-tertiary) !important;
    border-color: var(--mp-dark-border-color) !important;
}

.mp-alert-details-container p {
    color: var(--mp-dark-text-primary) !important;
}

/* ===== Spinner ===== */
.spinner-card-form,
.mp-spinner-3ds {
    border-color: rgba(255, 255, 255, 0.1) !important;
    border-top-color: var(--mp-dark-accent-color) !important;
}

/* ===== Mobile Responsive Adjustments ===== */
@media (max-width: 767.98px) {
    .mp-pix-right,
    div.mp-pix-right {
        border-top-color: var(--mp-dark-border-color) !important;
        border-left: none !important;
    }
    
    .mp-details-pix-button,
    button.mp-details-pix-button {
        background-color: var(--mp-dark-accent-color) !important;
    }
    
    .mp-col-md-4,
    .mp-col-md-8,
    div.mp-col-md-4,
    div.mp-col-md-8 {
        background-color: var(--mp-dark-bg-secondary) !important;
    }
}

/* ===== WooCommerce Integration ===== */
.woocommerce-checkout .mp-checkout-container,
.woocommerce-order-received .mp-details-pix,
.woocommerce .mp-checkout-container,
body.woocommerce-checkout .mp-checkout-container,
body.woocommerce-order-received .mp-details-pix {
    background-color: var(--mp-dark-bg-secondary) !important;
    border-radius: 8px !important;
}

/* ===== Row Image Select ===== */
.row-image-select p {
    color: var(--mp-dark-text-primary) !important;
}

/* ===== Credits Modal ===== */
.mp-credits-modal {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-credits-modal-title,
.mp-credits-modal-subtitle,
.mp-credits-modal-description {
    color: var(--mp-dark-text-primary) !important;
}

/* ===== Super Token Payment Methods ===== */
.mp-super-token-payment-methods {
    background-color: var(--mp-dark-bg-secondary) !important;
}

.mp-super-token-payment-methods p,
.mp-super-token-payment-methods span,
.mp-super-token-payment-methods label {
    color: var(--mp-dark-text-primary) !important;
}

/* ===== Focus States ===== */
.mp-checkout-container input:focus,
.mp-checkout-container select:focus,
.mp-checkout-container textarea:focus {
    border-color: var(--mp-dark-accent-color) !important;
    box-shadow: 0 0 0 2px rgba(52, 131, 250, 0.3) !important;
    outline: none !important;
}

/* ===== Disabled States ===== */
.mp-checkout-container input:disabled,
.mp-checkout-container select:disabled,
.mp-checkout-container button:disabled {
    background-color: var(--mp-dark-bg-tertiary) !important;
    color: var(--mp-dark-text-muted) !important;
    cursor: not-allowed !important;
}

/* ===== Link Styles ===== */
.mp-checkout-container a:not(.mp-details-pix-button) {
    color: var(--mp-dark-accent-color) !important;
}

.mp-checkout-container a:hover:not(.mp-details-pix-button) {
    color: var(--mp-dark-accent-hover) !important;
}

/* ===== Scrollbar Styles (for webkit browsers) ===== */
.mp-checkout-container ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

.mp-checkout-container ::-webkit-scrollbar-track {
    background: var(--mp-dark-bg-tertiary);
    border-radius: 4px;
}

.mp-checkout-container ::-webkit-scrollbar-thumb {
    background: var(--mp-dark-border-color);
    border-radius: 4px;
}

.mp-checkout-container ::-webkit-scrollbar-thumb:hover {
    background: var(--mp-dark-text-muted);
}

/* ===== Selection Highlight ===== */
.mp-checkout-container ::selection {
    background-color: var(--mp-dark-accent-color);
    color: #ffffff;
}

/* ===== PIX Value/Amount Display ===== */
.mp-details-pix-qr,
.mp-details-pix-qr-value,
span.mp-details-pix-qr,
span.mp-details-pix-qr-value {
    color: var(--mp-dark-text-primary) !important;
}

/* ===== Additional WooCommerce Block Checkout Support ===== */
.wc-block-components-radio-control-accordion-content .mp-checkout-container,
.wc-block-components-radio-control-accordion-content .mp-pix-template-container,
.wc-block-components-radio-control-accordion-content .mp-checkout-pix-container {
    background-color: var(--mp-dark-bg-secondary) !important;
}

/* ===== Ensure all child elements inherit dark theme ===== */
.mp-details-pix *,
.mp-checkout-container *,
.mp-pix-template-container * {
    color: inherit;
}

/* ===== Override any inline styles with higher specificity ===== */
[class*="mp-checkout"][style*="background"],
[class*="mp-pix"][style*="background"],
[class*="mp-details"][style*="background"] {
    background-color: var(--mp-dark-bg-secondary) !important;
}
